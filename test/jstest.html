<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>test</title>
</head>
<body>
	<style>
    h3::after {
        content: "rocks!";
    }
</style>

<h3>generated content</h3> 

<script>
    let h3 = document.querySelector('h3'), 
    h = 'height',
    result = getComputedStyle(h3, '::after')[h];
    alert(`the generated content is: ${result}`);
    console.log(`the generated content is: ${result}`); 
    // the generated content is: "rocks!"
</script>
	
</body>
<script type="text/javascript" src="js/jquery-1.9.1.js"></script>
<script type="text/javascript">

	/*function unique (arr){
		
	}
	console.log(unique([1,1,2,3,3,5]));*/
(function(root){


	var star = function(obj){
		if(!(this instanceof star)){
			return new star(obj);
		}
		this.wrap = obj;
		
	}
	star.functions = function(obj){
		var allFun = [];
		for(var key in obj){
			allFun.push(key);
		}
		return allFun;
	}
	star.mixin = function(obj){
		//star.each(star.functions(obj))
		star.each(star.functions(this),function(name,i){
			star.prototype[name] = function(){
				var args = [this.wrap];
				[].push.apply(args,arguments);
				return star.result(this,star[name].apply(null,args));
			};
		})

	}
	star.result = function(instance,obj){
		if(instance._chain){
			instance.wrap = obj;
			return instance;
		}else{
			return obj;
		}
	}
	star.each = function(arr,callback){
		for(var i =0;i<arr.length;i++){
			callback.call(arr,arr[i],i);
		}
	};
	star.unique = function(arr,callback){
		var result = [];
		for(var i = 0;i<arr.length;i++){
			var target = callback ? callback(arr[i]) : arr[i];
			if(result.indexOf(target) == -1){
				result.push(target);
			}
		}
		return result;
	}
	star.map1 = function(arr){
		arr.push("max");
		return arr;
	}
	//开启链接式
	star.chain = function(obj){
		var instance = star(obj);
		instance._chain = true;
		return instance;
	}
	star.mixin(star);
	root.star = star;
})(this)
	//star().unique()
	/*console.log(star.unique([1,1,1,2,3,5,8,8,5,"a","A"],function(value){
		return typeof value == "string" ? value.toLowerCase() : value;
	}));*/
	console.log(star([1,1,1,2,3,5,8,8,5,"a","A"]).chain().unique(function(value){
		return typeof value == "string" ? value.toLowerCase() : value;
	}).map1());


	console.log(newme.sayName());

	$(function(){});

</script>
</html>